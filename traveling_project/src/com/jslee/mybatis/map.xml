<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="stayInfo">
	<select id="stayInfoSelect"
		resultType="com.jslee.stayinfo.StayInfo">
		select * from stay_info;
	</select>

	<insert id="stayInfoInsert"
		parameterType="com.jslee.stayinfo.StayInfo">
		INSERT INTO stay_info(
		host_id, stay_name, location, post_code, road_addr, jibun_addr,
		detail_addr, extra_addr, latitude, longitude, host_phone, image1,
		image2, image3, image4, image5, contents
		)
		VALUES (
		#{hostId}, #{stayName},
		SUBSTRING_INDEX(#{roadAddr}, ' ', 2), -- '경기 성남시' 부분 추출
		#{postCode}, #{roadAddr}, #{jibunAddr}, #{detailAddr}, #{extraAddr},
		#{lat}, #{lngt}, #{hostPhone}, #{image1}, #{image2}, #{image3}, #{image4},
		#{image5}, #{contents}
		);
	</insert>
</mapper>